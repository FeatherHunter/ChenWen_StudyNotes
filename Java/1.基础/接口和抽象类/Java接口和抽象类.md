
转载请注明链接: https://blog.csdn.net/feather_wch/article/details/51413541

> 介绍Java中的接口和抽象类

# Java 接口和抽象类

版本号: 2018/9/29-1(0:40)

---

[toc]
## 接口(9)

1、接口是什么?
> 1. 接口-interface
> 1. 是Java语言中的一种抽象类型，是对行为的抽象，是抽象方法的集合
> 1. 接口以关键字`interface`来声明使用

2、接口的特点
>1. 解耦：可以实现API定义和实现相分离
>1. 内部方法: 要么是abstract抽象方法、要么是static静态方法，都是public修饰
>1. 内部的属性都是常量，默认使用修饰符：public static final(不用写)
>1. `接口`只能继承`接口`
>1. 不能实例化-继承接口的`子类`可以实例化
>1. 体现了多态，以及高内聚低耦合的特点

3、接口和类的区别
> 1. 两种不同概念
> 1. 接口使用`interface关键字`；类使用`class关键字`
> 1. 类用于描述对象的属性和方法
> 1. 接口是类要实现的方法的抽象集合
> 1. 接口无法实例化；类可以实例化(抽象类不可以实例化)。

4、接口的使用实例
```java
interface Usb{
  public void start();
  public void stop();
}
class pc implements Usb{...}

void useUsb(Usb usb){
  usb.start();
  usb.stop();
}
```
> 1. 接口中变量为 static,final int a = 0。常用作全局变量。例如：Usb.a
> 1. 接口可以继承接口
> 1. 体现了多态，以及高内聚低耦合的特点

5、接口会继承吗？(=子类是否会继承父类关于接口的实现)？
> 子类会继承父类关于接口的实现

6、接口的作用?
> 1. 接口中的变量可以作为`全局变量`来使用，例如：Usb.a
> 1. 能实现C++中多重继承的效果
> 1. 解耦

7、接口中的属性(变量)默认使用`public static final`修饰?
> 是的
> 1. 这些数据会存储在静态存储区域

8、接口中的属性(变量)可以是private的?
> 不可以!

9、接口是在多个类之间建立一种协议“protocol”?
> 是的，多个类实现了这个接口，就可以用于实现多态

### Marker Interface

10、接口的职责仅仅是作为抽象方法的集合?
> 1. 不是的。
> 1. 还可以作为Marker Interface： 一种没有任何方法的接口
> 1. functional interface: Java中增加了函数式编程的支持，增加了一类定义

11、Marker interface是什么?
> 1. 标记接口
> 1. 一种没有任何方法的接口
> 1. 目的是为了声明某些东西：比如Cloneable、Serializable等

12、Marker Interface和Annotation的异同?
> 1. Marker Interface-标记接口，能够声明一些东西
> 1. Annotation-注解，也能声明一些东西。
> 1. 标记接口优点是简单直接
> 1. 注解的好处是，因为可以指定参数和值，在表达能力上要更强大。(更多人选择使用 Annotation)

### functional interface

13、functional interface是什么?
> 1. 功能型接口
> 1. 简单说就是一种只有一个抽象方法的接口
> 1. 通常使用`@FunctionalInterface`注解 来标记
> 1. Lambda 表达式本身可以看作是一类 functional interface

14、functional interface有哪些用途?
> 1. 熟知的 Runnable、Callable等


### default method

15、接口中不可以有方法实现?
> 1. 错误。严格说，Java 8 以后，接口也是可以有方法实现的。

16、default method是什么
> 1. Java 8 开始，interface 增加了对 default method 的支持。
> 1. Java 9 以后，甚至可以定义 private default method。
> 1. Default method 提供了一种二进制兼容的扩展已有接口的办法。

17、default method的应用?
> 1. 熟知的 java.util.Collection，它是collection体系的 root interface
> 1. 在 Java 8 中添 加了一系列 default method，主要是增加 Lambda、Stream 相关的功能。

18、类似Collections之类的工具类，很多方法都适合作为`default method`实现在基础接口里面?
> 是的



## 抽象类(16)

1、什么是抽象类?
> 1. `抽象类`是`类的抽象集合`
> 1. abstract关键字修饰的class
> 1. 实例
```java
abstract class Animal(){};
```

2、抽象类的特点
> 1. 不能实例化
> 1. 继承方面:
>      1. 继承自抽象类的具体类，必须实现抽象类的所有抽象方法
>      1. 继承自抽象类的抽象类，可以不实现抽象类的抽象方法
> 1. 属性(成员变量方面)
>      1. 可以有变量
> 1. 方法:
>      1. 具有抽象方法的类，必须为抽象类
>      1. 抽象类可以不包含任何抽象方法。
>      1. 抽象方法一定不能是private修饰，并且不能有实现

3、抽象类的作用
> 主要为了代码重用
> 1. 主要是对Java类中的共有行为和属性进行抽象
> 1. 例如Collection框架中，通用部分被抽取为抽象类：AbstractList等。

3、“一个类包含abstract方法，则该类就必须为抽象类”的说法是否正确？
> 正确

4、“抽象类的子类必须要实现所有抽象方法”的说法是否正确?
> 错误！
> 1. 如果该子类也是抽象类，就可以不实现

5、“抽象类不可以被抽象类继承”的说法是否正确？
> 错误！

6、抽象类可以不包含任何抽象方法?
> 正确

7、抽象方法可以使用private修饰吗?
> 不可以！
> 1. protected
> 1. public
> 1. 默认权限

8、抽象方法可以有实现吗？既然抽象方法不可以有具体实现，为什么还有“具体子类继承抽象类时，需要实现所有抽象方法”的这种说法?
> 1. 抽象方法没有实现。是指`abstract`修饰的方法不能有body(具体实现)
> 1. 具体子类继承抽象类后，去实现抽象方法，本身这些方法在子类已经变成了具体方法，没有`abstract`关键字了。

9、包含抽象方法的类不一定要是抽象类?
> 错误！一定要是抽象类，

10、抽象类能用什么关键字修饰?不能用什么关键字修饰？
> 1. 能用关键字：abstract、public
> 1. 不能用关键字: final、private、protected、native

11、Java中类能使用哪些访问权限修饰符修饰?
> 1. 顶级类(外部类)
>     1. public
>     1. 默认
> 1. 内部类：四种权限都可以。

12、Java中类为什么不能使用protected、private修饰符修饰?
> 1. 该问题描述是有错误的。只有顶部类(外部类)才不能使用protected、private修饰符
> 1. 因为外部类的上一层是包，如果是私有的、保护的访问权限，对外不可见，失去了作为类给外部使用的意义。

13、Java中类class能否使用关键字static？
> 1. 顶级类(外部类)不可以
> 1. 内部类可以

14、抽象类可以用static修饰吗?
> 1. 内部抽象类可以
> 1. 外部顶级类不可以

15、抽象方法不能有什么关键字修饰?
> 1. final
> 1. static
> 1. private
> 1. native

16、抽象方法能用关键字`protected`修饰吗?
> 可以

17、子类方法继承自父类，可以在子类改变该方法的访问修饰符吗?
> 可以
> 1. 访问修饰符只能比父类的更大或者一致


## 接口与抽象类区别
1、接口与抽象类区别
> 1. 方法层面:
>        1. 接口中所有的方法都不能有具体实现
>        1. 抽象类中可以有非抽象方法，因此可以有具体实现
> 1. 概念上:
>        1. 接口是对继承的一种补充。用于实现类似C++中多重继承的效果。
>        1. 接口中所有方法都不能有具体实现，是比抽象类更为抽象的内容。
>        1. 接口是“类要实现的方法的抽象集合(对行为的抽象)”
>        1. 抽象类是“类的抽象集合(对整个类的抽象，包括属性和行为)”
> 1. 接口能继承接口，不能继承类
> 1. 使用上:
>        1. 类使用extends；接口使用implements
>        1. 类能实现多个接口，但只能继承一个父类
>        1. 接口能继承接口，不能继承类
> 1. 扩展性：
>        1. 对于接口，为接口添加任何抽象方法，相应的所有实现了这个接口的类，也必须实现新增方法
>        1. 对于抽象类，如果添加非抽象方法，其子类只会享受到能力扩展，而不用 担心编译出问题。

2、接口的实现类可以改变其属性吗?
> 不可以，属性是常量

3、抽象类的实现类可以改变其属性吗?
> 可以

4、类实现的不同接口中可以有同名的方法吗?
> 1. 可以有同名方法，但是要可以通过参数区分，仅仅返回值不同是不可以的
> 1. 要么名字不同

5、类实现的接口和继承的类可以有同名方法?
> 1. 可以有，需要能进行区分(参数类型不同或者参数数量不同)
> 1. 否则，只能不同名

6、抽象的定义是什么?
> 1. 将一类事物的`共同特征`总结出来并且构造出一类事物的过程
> 1. 包括: `数据抽象`和`行为抽象`

7、抽象的分类
> 1. 数据抽象
> 1. 行为抽象

8、抽象的特点?
> 不会去关注`属性和行为`内部具体的细节

9、抽象的作用？
> 1. 隐藏具体的实现方式
> 1. 提供扩展的能力

10、抽象的实现方式?
> 1. 抽象类
> 1. 接口

## 知识扩展

1、重载和重写的区别?

2、在一些情况下，需要抽象出与具体实现、实例化无关的通用逻辑，或者纯调用关系的逻辑，这时候该怎么办?
> 1. 实现由静态方法组成的工具类（Utils）
> 1. 比如 java.util.Collections。

3、java.util.Collections的作用？
> 1. 提供集合相关的工具类
> 1. 是由静态方法组成的工具类。

## 问题汇总

## 参考资料
1. [第13讲 | 谈谈接口和抽象类有什么区别？](https://time.geekbang.org/column/article/8471)
1. [functional-interfaces](https://www.oreilly.com/learning/java-8-functional-interfaces)
